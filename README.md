# AkShare + Backtrader é‡åŒ–äº¤æ˜“å…¥é—¨æ¨¡æ¿

<div align="center">
  <img src="results/equity_curve.png" alt="å›æµ‹ç»©æ•ˆå›¾" width="80%">
</div>

## ğŸ“– é¡¹ç›®ä»‹ç»

æœ¬ä»“åº“æä¾›äº†ä¸€ä¸ªåŸºäº **AkShare** å’Œ **Backtrader** çš„é‡åŒ–äº¤æ˜“å…¥é—¨æ¨¡æ¿ï¼Œå®ç°äº†åŒå‡çº¿äº¤å‰ç­–ç•¥çš„å›æµ‹ç³»ç»Ÿã€‚é€šè¿‡è¿™ä¸ªæ¨¡æ¿ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿå¼€å§‹é‡åŒ–äº¤æ˜“å­¦ä¹ å’Œç­–ç•¥å¼€å‘ã€‚

### ä¸»è¦åŠŸèƒ½

- **æ•°æ®è·å–**ï¼šä½¿ç”¨AkShareè·å–Aè‚¡å†å²è¡Œæƒ…æ•°æ®
- **ç­–ç•¥å®ç°**ï¼šåŒå‡çº¿äº¤å‰ç­–ç•¥ï¼ˆçŸ­æœŸå‡çº¿ä¸Šç©¿é•¿æœŸå‡çº¿ä¹°å…¥ï¼Œä¸‹ç©¿å–å‡ºï¼‰
- **å›æµ‹æ¡†æ¶**ï¼šåŸºäºBacktraderçš„å®Œæ•´å›æµ‹ç³»ç»Ÿ
- **ç»©æ•ˆåˆ†æ**ï¼šè‡ªåŠ¨è®¡ç®—å¹´åŒ–æ”¶ç›Šç‡ã€å¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤ç­‰æŒ‡æ ‡
- **å›¾è¡¨ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆç»©æ•ˆæŠ¥å‘Šå’Œæƒç›Šæ›²çº¿å›¾è¡¨
- **è‡ªåŠ¨åŒ–éƒ¨ç½²**ï¼šGitHub Actionsè‡ªåŠ¨è¿è¡Œå›æµ‹å¹¶éƒ¨ç½²åˆ°GitHub Pages

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python â‰¥ 3.8
- Git
- GitHubè´¦å·ï¼ˆéœ€å¼€å¯Actionså’ŒPagesåŠŸèƒ½ï¼‰

### å®‰è£…æ­¥éª¤

1. å…‹éš†ä»“åº“

```bash
git clone git@github.com:yourname/akshare-backtrader-starter.git
cd akshare-backtrader-starter
```

2. åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/MacOS
python -m venv venv
source venv/bin/activate
```

3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

## ğŸ“Š ä½¿ç”¨æ–¹æ³•

### è¿è¡Œå›æµ‹

```bash
python main.py
```

è¿è¡Œåï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºå›æµ‹ç»“æœï¼ŒåŒ…æ‹¬å¹´åŒ–æ”¶ç›Šç‡ã€å¤æ™®æ¯”ç‡ç­‰æŒ‡æ ‡ã€‚åŒæ—¶ï¼Œå›æµ‹ç»“æœå°†ä¿å­˜åœ¨ `results` ç›®å½•ä¸­ï¼ŒåŒ…æ‹¬ï¼š

- `equity_curve.png`ï¼šæƒç›Šæ›²çº¿å›¾è¡¨
- `tear_sheet.html`ï¼šè¯¦ç»†çš„ç»©æ•ˆæŠ¥å‘Šï¼ˆå¯åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æŸ¥çœ‹ï¼‰

### ç­–ç•¥é…ç½®

æ‚¨å¯ä»¥ä¿®æ”¹ `strategy/sma_cross.py` æ–‡ä»¶ä¸­çš„å‚æ•°æ¥è‡ªå®šä¹‰ç­–ç•¥ï¼š

```python
# ç­–ç•¥å‚æ•°
params = (
    ('fast', 5),     # çŸ­æœŸå‡çº¿å‘¨æœŸ
    ('slow', 20),    # é•¿æœŸå‡çº¿å‘¨æœŸ
    ('printlog', True),  # æ˜¯å¦æ‰“å°æ—¥å¿—
)
```

ä¹Ÿå¯ä»¥ä¿®æ”¹ `main.py` ä¸­çš„è‚¡ç¥¨ä»£ç ã€å›æµ‹æ—¶é—´èŒƒå›´ç­‰ï¼š

```python
result = manager.run_backtest(
    symbol='000001',  # å¹³å®‰é“¶è¡Œ
    start_date='20200101',
    end_date='20230101'
)
```

## ğŸ“Š ç­–ç•¥æˆæœ

| ç­–ç•¥åç§° | å¹´åŒ–æ”¶ç›Šç‡ | å¤æ™®æ¯”ç‡ | æœ€å¤§å›æ’¤ |
| -------- | ---------- | -------- | -------- |
| åŒå‡çº¿ç­–ç•¥ | -0.01% | -0.56 | 0.01% |

### ğŸ“ˆ æƒç›Šæ›²çº¿

ä»¥ä¸‹æ˜¯ç­–ç•¥å›æµ‹æœŸé—´çš„æƒç›Šæ›²çº¿ï¼š

![æƒç›Šæ›²çº¿](results/equity_curve.png)

## ğŸ”„ GitHub Actions è‡ªåŠ¨åŒ–

æœ¬ä»“åº“é…ç½®äº†GitHub Actionsï¼Œå®ç°ä»¥ä¸‹è‡ªåŠ¨åŒ–åŠŸèƒ½ï¼š

1. æ¯æ¬¡å‘ `main` åˆ†æ”¯æ¨é€ä»£ç æ—¶ï¼Œè‡ªåŠ¨è¿è¡Œå›æµ‹
2. å›æµ‹å®Œæˆåï¼Œè‡ªåŠ¨ç”Ÿæˆç»©æ•ˆæŠ¥å‘Š
3. å°†ç»©æ•ˆæŠ¥å‘Šéƒ¨ç½²åˆ°GitHub Pagesï¼Œå¯é€šè¿‡ `https://yourname.github.io/akshare-backtrader-starter/` è®¿é—®

## ğŸ“ é¡¹ç›®ç»“æ„

```
akshare-backtrader-starter/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ backtest.yml  # GitHub Actionsé…ç½®
â”œâ”€â”€ strategy/
â”‚   â””â”€â”€ sma_cross.py     # åŒå‡çº¿ç­–ç•¥å®ç°
â”œâ”€â”€ results/             # å›æµ‹ç»“æœç›®å½•
â”œâ”€â”€ main.py              # ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ requirements.txt     # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ .gitignore           # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. æ•°æ®æ‹‰å–è¶…æ—¶

å¦‚æœé‡åˆ°AkShareæ•°æ®æ‹‰å–è¶…æ—¶çš„é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹æ–¹æ³•ï¼š

- ä¿®æ”¹ `main.py` ä¸­æ•°æ®è·å–éƒ¨åˆ†ï¼Œä½¿ç”¨ `period="daily"` å‚æ•°
- æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œå¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘
- å¦‚æœä»ç„¶æ— æ³•è·å–æ•°æ®ï¼Œç¨‹åºä¼šè‡ªåŠ¨ä½¿ç”¨ç¤ºä¾‹æ•°æ®è¿›è¡Œå›æµ‹

### 2. GitHub Actions å¤±è´¥

å¦‚æœGitHub Actionsè¿è¡Œå¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š

- ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
- ä»£ç ä¸­æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯
- æŸ¥çœ‹Actionsæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

## ğŸ“š å­¦ä¹ èµ„æº

- [AkShareå®˜æ–¹æ–‡æ¡£](https://akshare.akfamily.xyz/)
- [Backtraderå®˜æ–¹æ–‡æ¡£](https://www.backtrader.com/)
- [é‡åŒ–äº¤æ˜“ç­–ç•¥ä¸å›æµ‹æŠ€æœ¯](https://zhuanlan.zhihu.com/p/36365008)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚
